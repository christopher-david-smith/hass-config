# lovelace_gen

title: {{ title }}
icon: {{ icon }}
path: {{ path }}
type: custom:grid-layout
layout:
  height: 100%
  margin: 0
  grid-template-columns: 100%
  grid-template-areas: |
    "mobile"
  mediaquery:
    "(min-width: 800px)":
      grid-template-columns: 355px auto
      grid-template-areas: |
        "mobile desktop"
cards:

  # Sidebar
  - type: custom:mod-card
    card_mod:
      style: |
        ha-card {
          margin: -4px;
          height: calc(100% + 12px);
          background: #171c1f;
          border-radius: 0;
          padding: 5px;
        }
    view_layout:
      grid-area: mobile
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        margin: 0
        grid-template-columns: auto minmax(1px, 500px) auto
        grid-template-areas: |
          ". mobile ."
      cards:

        # Sidebar on large screens
        - type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            margin: 0
            grid-template-columns: 100%
          view_layout:
            grid-area: mobile
            show:
              mediaquery: "(min-width: 800px)"
          cards: !include
            - views/sidebar.yaml
            - title: {{ title }}
              desktop_view: true

        # Sidebar on smaller screens
        - type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            margin: 0
            grid-template-columns: 100%
          view_layout:
            grid-area: mobile
            show:
              mediaquery: "(max-width: 799px)"
        {% if view == 'homepage' %}
          cards: !include
            - views/sidebar.yaml
            - hide_quick_links: true
              show_welcome_header: true
        {% else %}
          cards: !include
            - views/{{ view }}.yaml
            - title: {{ title }}
        {% endif %}

  # Main window, only visible on larger screens
  - type: custom:mod-card
    card_mod:
      style: |
        ha-card {
          height: calc(100vh - 12px);
          width: 100%;
          overflow: auto;
        }
    view_layout:
      grid-area: desktop
      show:
        mediaquery: "(min-width: 800px)"
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        margin: 0px 15px 0px 10px
      cards:
        - type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            margin: -1px
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr))
        {% if view == 'homepage' %}
          cards: !include views/homepage.yaml
        {% else %}
          cards: !include
            - views/{{ view }}.yaml
            - title: {{ title }}
        {% endif %}
