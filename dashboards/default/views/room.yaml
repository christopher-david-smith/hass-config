# lovelace_gen

{% extends "dashboards/default/templates/page.yaml" %}

{% set ns = namespace(room=None) %}
{% for room in _global.rooms %}
  {% if room.name == title %}
    {% set ns.room = room %}
  {% endif %}
{% endfor %}

{% block cards %}
{% if ns.room.lights %}
- type: vertical-stack
  cards: !include
    - ../templates/entities.yaml
    - name: Lights
      card: custom:mushroom-light-card
      items: {{ ns.room.lights }}
      options:
        full_width: true
      card_options:
        show_brightness_control: true
        show_color_temp_control: true
        show_color_control: true
        collapsible_control: true
        use_light_color: true
{% endif %}

{% if ns.room.media %}
- type: vertical-stack
  cards: !include
    - ../templates/entities.yaml
    - name: Media
      card: custom:mushroom-media-player-card
      items: {{ ns.room.media }}
{% endif %}

{% if ns.room.thermostat %}
- type: vertical-stack
  cards: !include
    - ../templates/entities.yaml
    - name: Climate
      card: custom:mushroom-climate-card
      items: {{ ns.room.thermostat }}
      options:
        full_width: true
      card_options:
        show_temperature_control: true
        tap_action: more-info
{% endif %}

{% if ns.room.other %}
- type: vertical-stack
  cards: !include
    - ../templates/entities.yaml
    - name: Other
      items: {{ ns.room.other | tojson }}
{% endif %}
{% endblock %}
